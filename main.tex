%%
%% This is file `sample-authordraft.tex',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% samples.dtx  (with options: `authordraft')
%% 
%% IMPORTANT NOTICE:
%% 
%% For the copyright see the source file.
%% 
%% Any modified versions of this file must be renamed
%% with new filenames distinct from sample-authordraft.tex.
%% 
%% For distribution of the original source see the terms
%% for copying and modification in the file samples.dtx.
%% 
%% This generated file may be distributed as long as the
%% original source files, as listed above, are part of the
%% same distribution. (The sources need not necessarily be
%% in the same archive or directory.)
%%
%% The first command in your LaTeX source must be the \documentclass command.
\documentclass[sigconf]{acmart}


%% NOTE that a single column version may be required for 
%% submission and peer review. This can be done by changing
%% the \doucmentclass[...]{acmart} in this template to 
%% \documentclass[manuscript,screen,review]{acmart}
%% 
%% To ensure 100% compatibility, please check the white list of
%% approved LaTeX packages to be used with the Master Article Template at
%% https://www.acm.org/publications/taps/whitelist-of-latex-packages 
%% before creating your document. The white list page provides 
%% information on how to submit additional LaTeX packages for 
%% review and adoption.
%% Fonts used in the template cannot be substituted; margin 
%% adjustments are not allowed.
%%
%% \BibTeX command to typeset BibTeX logo in the docs
\AtBeginDocument{%
  \providecommand\BibTeX{{%
    \normalfont B\kern-0.5em{\scshape i\kern-0.25em b}\kern-0.8em\TeX}}}

%% Rights management information.  This information is sent to you
\copyrightyear{2021}
\acmYear{2021}
\setcopyright{rightsretained}
\acmConference[ITiCSE 2021]{26th ACM Conference on Innovation and Technology in Computer Science Education V. 2}{June 26-July 1, 2021}{Virtual Event, Germany}
\acmBooktitle{26th ACM Conference on Innovation and Technology in Computer Science Education V. 2 (ITiCSE 2021), June 26-July 1, 2021, Virtual Event, Germany}\acmDOI{10.1145/3456565.3460029}
\acmISBN{978-1-4503-8397-4/21/06}



%%
%% Submission ID.
%% Use this when submitting an article to a sponsored event. You'll
%% receive a unique submission ID from the organizers
%% of the event, and this ID should be used as the parameter to this command.
%%\acmSubmissionID{123-A56-BU3}

%%
%% The majority of ACM publications use numbered citations and
%% references.  The command \citestyle{authoryear} switches to the
%% "author year" style.
%%
%% If you are preparing content for an event
%% sponsored by ACM SIGGRAPH, you must use the "author year" style of
%% citations and references.
%% Uncommenting
%% the next command will enable that style.
%%\citestyle{acmauthoryear}

\include{preamble}
%%
%% end of the preamble, start of the body of the document source.
\settopmatter{printacmref=true}
\begin{document}
\fancyhead{}
%%
%% The "title" command has an optional parameter,
%% allowing the author to define a "short title" to be used in page headers.
\title{cardComposer: A Functional Programming Card Game}


\author{Maria Hwang}
\affiliation{%
  \institution{Fashion Institute of Technology}
  \city{New York}
  \state{NY}
  \country{USA}
\email{maria_hwang@fitnyc.edu}}

\author{Mark Santolucito}
\affiliation{%
  \institution{Barnard College, Columbia University}
  \city{New York}
  \state{NY}
  \country{USA}
\email{msantolu@barnard.edu}}

%\renewcommand{\shortauthors}{Trovato and Tobin, et al.}

%%
%% The abstract is a short summary of the work to be presented in the
%% article.
\begin{abstract}
We introduce a card game for teaching basic functional programming concepts - specifically maps and filters.
The game uses a standard deck of playing cards and the underlying computational concepts can be introduced to students within a one-hour lecture period.
We tested this game (informally) with CS-101 students and found it to be an engaging activity.
We describe the complete set of instructions for the game and outline future directions of development. 
\end{abstract}

%%
%% The code below is generated by the tool at http://dl.acm.org/ccs.cfm.
%% Please copy and paste the code instead of the example below.


\begin{CCSXML}
<ccs2012>
   <concept>
       <concept_id>10010405.10010489.10010491</concept_id>
       <concept_desc>Applied computing~Interactive learning environments</concept_desc>
       <concept_significance>500</concept_significance>
       </concept>
 </ccs2012>
\end{CCSXML}

\ccsdesc[500]{Applied computing~Interactive learning environments}


%%
%% Keywords. The author(s) should pick words that accurately describe
%% the work being presented. Separate the keywords with commas.
\keywords{computer science education, card game, functional programming}


\maketitle

\section{Introduction}

As functional programming has become more widely used, for example in the Map-Reduce framework, there have been efforts to use games to make functional programming more accessible to beginning computer science students~\cite{almeida2018teaching,morazan2013functional}. 
While promising, these games have remained in the digital domain and the use of manipulatives for teaching functional programming has remained under-explored.
The value of manipulatives has been proven to be a useful resource for introductory computer science courses, for example with the ``CS Unplugged`` project~\cite{csunplugged}.
To fill this gap, we introduce a card game that we have developed to teach the building blocks of  functional programming language concepts. 

Our game, \textit{cardComposer}, can be played with a standard deck of playing cards, making it accessible to many different classroom environments.
This game was inspired by the \textit{cubeComposer} game~\cite{cubeComposer}, which also teaches functional programming using a physical analog (though is still a digital game).
In \textit{cubeComposer}, a player must solver a puzzle by constructing a functional program to manipulate cubes into a target configuration.
In contrast, \textit{cardComposer} is a two-player (or two-team) game that introduces an interactive and competitive component to the basic model of \textit{cubeComposer}.


% Use the reference~\cite{almeida2018teaching} to talk about using games as assignments since the article has a section titled that. For what we could call the ``multimedia'' generation, using a game for A,B,and C could be a good idea. Many introductory CS units actually have been using games in this capacity to motivate students' participation, engagement, and development. 


\section{How to Play the Game}
The game is played in three rounds: the initial placement (Sec.~\ref{sec:stage1}), the code writing (Sec.~\ref{sec:stage2}), and the battle phase (Sec.~\ref{sec:stage3}).
The players initially draw a hand of cards, then write a small functional program to manipulate the layout of that hand, then ``battle'' their hand against their opponent.

\subsection{Dealing the Cards}
\label{sec:stage1}

To begin the game, each player draws eight cards, placing four in each row, alternating between face up and face down. 
The board should be arranged as shown in Fig.~\ref{fig:initDraw}.

\begin{figure}[h!]
    \crdJs \crdback \crdtens \crdback\\
    \crdback \crdtwoh \crdback \crdfours
    \caption{An initial starting draw example for one player}
    \label{fig:initDraw}

\end{figure}


\subsection{Applying Functions}
\label{sec:stage2}

Each player (or team) is given time to write down the code that they will use to rearrange the cards. 
Their code will be in a functional style - utilizing \texttt{map}s and \texttt{filter}s.
The higher order functions (map and filter) \textit{only} apply the first-order functions (those listed in Fig.~\ref{fig:mapFxns} and Fig.~\ref{fig:filterFxns}) to the front row of cards. 
The exception is ``\texttt{map swap}'' which swap the front row and back row.


\begin{figure*}
     \begin{tabular}{c|c|c}
        function \texttt{f} & description of f & example of \texttt{map f} \\ \hline 
        \textbf{faceUp} & turn all cards face up (regardless of their previous state) & 
        \makecell{ 
            \Js \backofcard \tens \backofcard  $\to$ \Js \eigc \tens \Qd  \\
            \backofcard \twoh \backofcard \fours \phantom{$\to$} \backofcard \twoh \backofcard \fours 
        } \\ \hline 
        
        \textbf{faceDown} & turn all cards face down & 
        \makecell{ 
            \Js{} \backofcard \tens \backofcard $\to$ \backofcard \backofcard \backofcard \backofcard \\
            \backofcard \twoh \backofcard \fours \phantom{$\to$} \backofcard \twoh \backofcard \fours
        } \\ \hline 
        
        \textbf{flipOver} & flip the cards from face up to face down or vice versa & 
        \makecell{ 
            \Js \backofcard \tens \backofcard  $\to$ \backofcard \eigc \backofcard \Qd \\
            \backofcard \twoh \backofcard \fours \phantom{$\to$} \backofcard \twoh \backofcard \fours 
        } \\ \hline 
        
        \textbf{swap} & swap the front and back rows &
        \makecell{ 
            \Js \backofcard \tens \backofcard  $\to$ \backofcard \twoh \backofcard \fours \\
            \backofcard \twoh \backofcard \fours \phantom{$\to$} \Js \backofcard \tens \backofcard
        } \\ \hline 
        
    \end{tabular} 
    \caption{The functions to be used with \texttt{map}}
    \label{fig:mapFxns}  
\end{figure*}


\begin{figure*}
    \begin{tabular}{c|c|c}
        function \texttt{f} & description of f & example of \texttt{filter f} \\ \hline
        
        \textbf{isUp} & returns True if the card is face up & 
        \makecell{ 
            \Js \backofcard \tens \backofcard  $\to$ \Js \tens \phantom{\Js \Js} \\
            \backofcard \twoh \backofcard \fours \phantom{$\to$} \backofcard \twoh \backofcard \fours 
        } \\ \hline 
        
        \textbf{isDown} & returns True if the card is face down &
        \makecell{ 
            \Js \backofcard \tens \backofcard  $\to$ \backofcard \backofcard  \phantom{\Js \Js} \\
            \backofcard \twoh \backofcard \fours \phantom{$\to$} \backofcard \twoh \backofcard \fours 
        } \\ \hline 
        
        \textbf{isRed} & returns True if the card is red AND face up &
        \makecell{ 
            \Js \eigc \tens \Qd  $\to$ \Qd \phantom{\Js \Js \Js}  \\
            \backofcard \twoh \backofcard \fours \phantom{$\to$} \backofcard \twoh \backofcard \fours 
        } \\ \hline 
        
        \textbf{isBlack} & returns True if the card is black AND face up &        
        \makecell{ 
            \Js \eigc \tens \Qd $\to$\Js \eigc \tens  \phantom{\Js}  \\
            \backofcard \twoh \backofcard \fours \phantom{$\to$} \backofcard \twoh \backofcard \fours 
        } \\ \hline 
    \end{tabular}
    \caption{The functions to be used with \texttt{filter}}
    \label{fig:filterFxns}
\end{figure*}
    
If a card is filtered out, all cards move to the left (your zero index of the list) to fill this hole. 
The code each player writes should be a composition of maps and filters.


Once each player has written down the set of functions they want to apply to their cards, the players show their code to their opponent. 
The players then walk though the application of the functions together.
This is a useful step to check each players understanding of the functions.

\begin{figure}
    \begin{tabular}{c|c}
        program & evaluation \\ \hline 
        \makecell{\texttt{filter isRed} \\ $\quad$ \texttt{(map faceUp hand)}} &
        \makecell{ 
            \Js{} \backofcard \tens \backofcard $\to$ \Js \eigc \tens \Qd $\to$ \Qd \phantom{\Js \Js \Js}   \\
            \backofcard \twoh \backofcard \fours \phantom{$\to$} \backofcard \twoh \backofcard \fours \phantom{$\to$} \backofcard \twoh \backofcard \fours 
        } \\ \hline 
    \end{tabular}
    \caption{An example program applied to a hand.}
    \label{fig:exampleProgram}
\end{figure}

\subsection{Battle Phase}
\label{sec:stage3}
Once the cards have been rearranged according to the functions, the players can move to the battle phase.
In this stage players compare the cards directly across from each other. 

A high card wins by the point differential (cf. Fig.~\ref{fig:exampleBattle} where the Queen of Spades beats the Ten of Spades to earn player 2 two points).
A face down card is in ``defense'' mode, and automatically results in a draw (cf. Fig.~\ref{fig:exampleBattle} where the player 2 defends the Eight of Clubs resulting in zero points for both players).
If there is no card in the first row, the card in the back row is used in the comparison (cf Fig.~\ref{fig:exampleBattle} where the Nine of Hearts is compared to the Ten of Diamonds, earning player 1 one point).
If there is no card in either row on a player's field, it is counted as zero, and any face up card in the opponent's field (directly across) wins by the value of that card. 
Sum the total of the points in each of the four comparisons to determine the winner of the round. 
A typical game should have three rounds.

\begin{figure}
    \begin{tabular}{c|c}
        player 1 hand &
        \makecell{ 
            \backofcard \twoh \backofcard \fours \\
            \tens \eigc \sevs \tend  
        } \\ \hline 
        player 2 hand & 
        \makecell{ 
            \Qs \backofcard \sevh \phantom{\Js}  \\
            \backofcard \twoc \backofcard \nineh 
        } \\ \hline 
    \end{tabular}
    \caption{The battle stage - player 2 wins by one point.}
    \label{fig:exampleBattle}
\end{figure}

\section{Discussion}

This game was first tested in a classroom of approximately 40 CS-101 students at Bucknell University on Jan 19, 2020. 
We split the class into groups of four students so that two students could be on each opposing teams. 
Each group of four students can use half a deck of cards (well-mixed) instead of a full deck. 
The activity took approximately one hour including an explanation of the functional programming concepts.

An implementation of the game logic is available online at \textbf{\url{https://github.com/santolucito/cardgame}}. 
The code still lacks a complete front-end implementation, but we believe this game is more ideally realized as a physical learning activity with tangible cards.
This game is also a good setting for which to use the playing card deck of Notable Women in Computing~\cite{womenCards}.
Although this is an activity that will need to wait for in-person teaching to resume, our hope is that this card game can be utilized as an engaging introduction when teaching basic functional programming concepts.

% \begin{acks}
% To Robert, for the bagels and explaining CMYK and color spaces.
% \end{acks}


\bibliographystyle{ACM-Reference-Format}
\bibliography{sample-base}


\end{document}
\endinput
%%
%% End of file `sample-authordraft.tex'.
